<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 JAE | Level Progression System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg: #020617;
            --accent: #22d3ee;
            --gold: #f59e0b;
            --glass: rgba(15, 23, 42, 0.9);
            --border: rgba(34, 211, 238, 0.2);
            --xp-bg: #1e293b;
        }

        body, html { margin: 0; padding: 0; min-height: 100vh; font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; background-color: var(--bg); color: #fff; }

        /* --- ç™»å…¥ä»‹é¢ --- */
        #loginWrapper {
            height: 100vh; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: radial-gradient(circle at center, #1e1b4b 0%, #020617 100%);
            position: fixed; z-index: 1000; transition: 0.8s ease;
        }
        .game-title { font-size: clamp(2rem, 8vw, 4rem); font-weight: 900; letter-spacing: 5px; background: linear-gradient(to bottom, #fff, var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 0; }

        .login-card { width: 85%; max-width: 400px; background: var(--glass); padding: 40px; border-radius: 30px; border: 1px solid var(--border); backdrop-filter: blur(15px); margin-top: 30px; }
        select, input { width: 100%; padding: 18px; margin: 10px 0; background: rgba(0,0,0,0.5); border: 1px solid #334155; border-radius: 12px; color: #fff; font-size: 1.1rem; box-sizing: border-box; }
        .btn-action { width: 100%; padding: 20px; border: none; border-radius: 12px; font-size: 1.3rem; font-weight: 800; cursor: pointer; transition: 0.3s; background: var(--accent); color: #020617; margin-top: 20px; }

        /* --- å ±è¡¨å…§å®¹ --- */
        #reportSection { display: none; max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .header-box { background: var(--glass); border-radius: 30px; padding: 30px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border); margin-bottom: 25px; }

        /* --- XP é€²åº¦æ¢æ¨£å¼ --- */
        .xp-section { margin-top: 15px; }
        .xp-header { display: flex; justify-content: space-between; font-size: 0.85rem; color: #94a3b8; margin-bottom: 8px; font-weight: bold; }
        .xp-bar-container { width: 300px; height: 14px; background: var(--xp-bg); border-radius: 7px; position: relative; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); }
        .xp-bar-fill { height: 100%; background: linear-gradient(90deg, #06b6d4, #22d3ee); width: 0%; transition: 2.5s cubic-bezier(0.1, 1, 0.1, 1); position: relative; }
        .xp-bar-fill::after { content: ''; position: absolute; top:0; left:0; right:0; bottom:0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); animation: shine 2s infinite; }
        @keyframes shine { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        .stat-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: var(--glass); padding: 20px; border-radius: 20px; text-align: center; border: 1px solid var(--border); }
        .stat-val { font-size: 2rem; font-weight: 900; color: var(--accent); display: block; }

        .main-layout { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 20px; }
        .card { background: var(--glass); border-radius: 25px; padding: 25px; border: 1px solid var(--border); }
        
        /* ä¿®æ”¹å¯†ç¢¼å½ˆçª— */
        #pwdModal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 350px; background: #0f172a; border: 2px solid var(--accent); padding: 30px; border-radius: 25px; z-index: 2000; }
        .overlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); z-index: 1500; }
    </style>
</head>
<body>

    <div id="loginWrapper">
        <h1 class="game-title">2026 JAE</h1>
        <div style="letter-spacing: 10px; color: #64748b; font-size: 0.8rem; margin-bottom: 30px;">SECURE ACCESS ONLY</div>
        <div class="login-card">
            <select id="userSelect"><option value="">-- SELECT HERO --</option></select>
            <input type="password" id="userPass" placeholder="PASSCODE (308XX)">
            <button class="btn-action" onclick="handleLogin()">INITIALIZE</button>
        </div>
    </div>

    <div id="reportSection">
        <div class="header-box">
            <div style="display: flex; align-items: center;">
                <div id="rankOrb" style="width:90px; height:90px; border: 6px solid; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:3rem; font-weight:900; margin-right:25px;">?</div>
                <div>
                    <h2 id="displayName" style="margin:0; font-size: 2.5rem;">NAME</h2>
                    <div id="displayRank" style="color: var(--gold); font-weight: 800; font-size: 1.2rem;">RANK</div>
                    
                    <div class="xp-section">
                        <div class="xp-header">
                            <span id="nextLevelName">NEXT GOAL: ---</span>
                            <span id="xpRemaining">REMAINING: 0 XP</span>
                        </div>
                        <div class="xp-bar-container">
                            <div id="xpFill" class="xp-bar-fill"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="text-align: right;">
                <div style="font-size: 0.9rem; color: var(--accent); font-weight: bold;">TOTAL POWER (135)</div>
                <div id="displayScore" style="font-size: 5.5rem; font-weight: 900; line-height:1;">0</div>
                <button onclick="openPwdModal()" style="background:none; border: 1px solid #475569; color:#475569; border-radius:5px; cursor:pointer; font-size:0.7rem; margin-top:10px;">ä¿®æ”¹å¯†ç¢¼</button>
            </div>
        </div>

        <div class="stat-grid">
            <div class="stat-card">ç­ç´šæ’å<span id="cRank" class="stat-val">-</span></div>
            <div class="stat-card">æ ¡å…§æ’å<span id="sRank" class="stat-val">-</span></div>
            <div class="stat-card">è€ƒå€æ’å<span id="dRank" class="stat-val">-</span></div>
            <div class="stat-card" style="border: 2px solid #f87171;">é ä¼°è½é»<span id="predictSchool" class="stat-val" style="font-size: 1.2rem; color:#fff;">-</span></div>
        </div>

        <div class="main-layout">
            <div class="card">
                <h3 style="margin-top:0; color:var(--accent);">ğŸ¯ S4 è³½å­£çªç ´æŒ‡å—</h3>
                <div id="strategyList"></div>
            </div>
            <div class="card">
                <h3 style="margin-top:0; color:var(--accent);">ğŸ›¡ï¸ æˆ°åŠ›åˆ†å¸ƒ</h3>
                <div style="height: 300px;"><canvas id="radarChart"></canvas></div>
            </div>
        </div>
        
        <div onclick="location.reload()" style="text-align:center; color:#475569; margin:50px 0; cursor:pointer; letter-spacing:5px;">[ RETURN TO BASE ]</div>
    </div>

    <div id="overlay" class="overlay"></div>
    <div id="pwdModal">
        <h3 style="margin-top:0; color:var(--accent);">è®Šæ›´å®‰å…¨èªè­‰ç¢¼</h3>
        <input type="password" id="oldPwd" placeholder="ç›®å‰å¯†ç¢¼">
        <input type="password" id="newPwd" placeholder="æ–°å¯†ç¢¼">
        <input type="password" id="confirmPwd" placeholder="ç¢ºèªæ–°å¯†ç¢¼">
        <button class="btn-action" onclick="submitNewPwd()">å„²å­˜è®Šæ›´</button>
        <button onclick="closePwdModal()" style="width:100%; background:none; border:none; color:#64748b; margin-top:15px; cursor:pointer;">å–æ¶ˆ</button>
    </div>

<script>
    const studentDB = [
        { id: 1, name: "ç‹æ˜±å¡", rank: "å®ˆè­·ç™½é‡‘ I", score: 28, cRank: 12, sRank: 227, dRank: 2065, grades: {ch:"B+", en:"B", ma:"B++", sc:"B++", so:"A"}, s: ["éå›ºç¤¾æœƒç§‘ A ç´šå„ªå‹¢ï¼Œç¢ºä¿åŸºç¤é¡Œä¸å¤±åˆ†","æ•¸è‡ªå…©ç§‘å·²é” B++ï¼Œé‡å°å¼±é»é¡Œå‹è¡åˆº A ç´š","è‹±æ–‡ B ç´šç‚ºæœ€å¤§ç¼ºå£ï¼Œéœ€æ¯æ—¥åŠ å¼·åŸºç¤å–®å­—é‡","åœ‹æ–‡éœ€å¢åŠ èª²å¤–ç™½è©±æ–‡é–±è®€é‡ï¼Œæå‡èªæ„Ÿ","å¯«ä½œç·´ç¿’å¢åŠ æ•˜äº‹ç´°ç¯€ï¼Œç›®æ¨™ç©©å®š 4 ç´šåˆ†ä»¥ä¸Š"] },
        { id: 2, name: "å³å½¥å‹³", rank: "å‹‡è€…é»ƒé‡‘ I", score: 25, cRank: 15, sRank: 299, dRank: 3006, grades: {ch:"B+", en:"B", ma:"A+", sc:"B+", so:"B"}, s: ["ç™¼æ®æ•¸å­¸ A+ å„ªå‹¢ï¼ŒæŒ‘æˆ° A++ æ»¿åˆ†é»æ•¸","è‹±æ–‡ B ç´šéœ€çªç ´ï¼Œå»ºè­°å¾æ­·å±†è€ƒé¡ŒåŸºç¤å¥å‹ç·´ç¿’","ç¤¾æœƒç§‘å›æ­¸èª²æœ¬åœ–è¡¨ï¼Œé‡æ¸…å²åœ°æ•´åˆæ¦‚å¿µ","åœ‹æ–‡åŠ å¼·æ–‡è¨€æ–‡ç¿»è­¯èƒ½åŠ›ï¼Œçˆ­å– B++ é–€æª»","æ¨¡æ“¬è€ƒå¾Œç¢ºå¯¦è¨‚æ­£éŒ¯é¡Œï¼Œå»ºç«‹å°ˆå±¬éŒ¯é¡Œæœ¬"] },
        { id: 3, name: "æè‡´è«­", rank: "å‹‡è€…é»ƒé‡‘ II", score: 23, cRank: 20, sRank: 351, dRank: 3751, grades: {ch:"B", en:"C", ma:"A", sc:"B", so:"B+"}, s: ["å®ˆä½æ•¸å­¸ A ç´šå„ªå‹¢ï¼Œå®ƒæ˜¯ä½ ä¸Šåˆ†çš„å¼·åŠ›æ”¯æŸ±","è‹±æ–‡ C ç´šæ˜¯è‡´å‘½å‚·ï¼Œå…ˆæ±‚èƒŒç†ŸåŸºæœ¬ 1200 å–®å­—è„« C","ç¤¾æœƒç§‘è¡åˆº B++ ç›®æ¨™ Aï¼Œè£œå¼·å…¬æ°‘æ³•å¾‹ç¯‡ç« ","è‡ªç„¶ç§‘é‡æ¸…ç‰©ç†åŒ–å­¸å…¬å¼ï¼Œæ¸›å°‘åŸºç¤è¨ˆç®—éŒ¯èª¤","å¯«ä½œç·´ç¿’æ–‡ç« èµ·æ‰¿è½‰åˆï¼Œé¿å…ç¯‡å¹…éçŸ­"] },
        { id: 4, name: "ææ™‰å®‰", rank: "å‹‡è€…é»ƒé‡‘ III", score: 20, cRank: 25, sRank: 419, dRank: 5065, grades: {ch:"B", en:"C", ma:"B+", sc:"B", so:"B"}, s: ["è‹±æ–‡å„ªå…ˆè™•ç†åŸºç¤ç™¼éŸ³èˆ‡å­—å½™ï¼Œè„«é›¢ C ç´šé›·å€","æ•¸å­¸ B+ å…·å‚™è¡åˆº B++ æ½›åŠ›ï¼Œå¤šç·´å¹¾ä½•é¡Œå‹","åœ‹æ–‡æå‡é–±è®€ç†è§£é€Ÿåº¦ï¼Œé¿å…è€ƒè©¦æ™‚é–“ä¸è¶³","ç¤¾æœƒç§‘å˜—è©¦åœ–è¡¨ç­†è¨˜æ•´ç†æ³•ï¼Œå¼·åŒ–è¨˜æ†¶é»","è¨­å®šæ¯é€±é€²æ­¥å°ç›®æ¨™ï¼Œå…ˆå¾å¼±ç§‘é€²æ­¥ä¸€éšé–‹å§‹"] },
        { id: 5, name: "æ²ˆå®å½¥", rank: "æ°¸æ†é‘½çŸ³ I", score: 31, cRank: 10, sRank: 142, dRank: 1250, grades: {ch:"A+", en:"B", ma:"A+", sc:"B+", so:"A"}, s: ["åœ‹æ•¸å…©ç§‘å…·å‚™ A+ å¯¦åŠ›ï¼Œé‡å°é›£é¡Œé€²è¡Œç ´é¡Œç·´ç¿’","è‹±æ–‡ B ç´šæ‹–ç´¯ç¸½åˆ†ï¼Œéœ€è£œå¼·åŸºç¤æ–‡æ³•èˆ‡è½åŠ›","è‡ªç„¶ç§‘åŠ å¼·å¯¦é©—é¡Œèˆ‡åœ–è¡¨åˆ†æï¼Œç›®æ¨™è¡å‘ A","ç¤¾æœƒç§‘ç©©å®šç™¼æ® A ç´šè¡¨ç¾ï¼Œç¶­æŒè®€æ›¸æ‰‹æ„Ÿ","å¯«ä½œç›®æ¨™ 5 ç´šåˆ†ï¼Œå¤šè‡¨æ‘¹ç¯„æ–‡çš„ä½³å¥ä¿®è¾­"] },
        { id: 6, name: "å¼µäºå®—", rank: "å‹‡è€…é»ƒé‡‘ III", score: 20, cRank: 26, sRank: 427, dRank: 5326, grades: {ch:"C", en:"B", ma:"B+", sc:"B", so:"B"}, s: ["åœ‹æ–‡ C æ˜¯åš´é‡è­¦è¨Šï¼Œéœ€åŠ å¼·å­—éŸ³å­—å½¢èˆ‡åŸºæœ¬é–±è®€","æ•¸å­¸ B+ è¡¨ç¾ç©©å¥ï¼Œå¤šåšæ­·å±†è©¦é¡Œç©©å›º B++","è‹±æ–‡ç¶­æŒ B ç´šå¯¦åŠ›ï¼ŒåŠ å¼·è½åŠ›ç²å–åŸºæœ¬åˆ†","å¯«ä½œ 0 åˆ†éœ€è­¦æƒ•ï¼Œä¸‹æ¬¡å‹™å¿…å‹•ç­†å¯«æ»¿è¦å®šè¡Œæ•¸","é‡æ–°åˆ†é…è®€æ›¸æ™‚é–“ï¼Œçµ¦äºˆåœ‹æ–‡ç§‘æ›´å¤šçš„é—œæ³¨"] },
        { id: 7, name: "æ¢æ¾„ç¥", rank: "æˆ°å£«ç™½éŠ€ I", score: 18, cRank: 27, sRank: 460, dRank: 6423, grades: {ch:"B", en:"C", ma:"C", sc:"B", so:"B"}, s: ["è‹±æ•¸å…©ç§‘æ“‡ä¸€å„ªå…ˆè„«é›¢ C ç´šï¼Œå»ºç«‹å­¸ç¿’ä¿¡å¿ƒ","åœ‹æ–‡è‡ªç„¶ç¶­æŒ B ç´šç›¤é¢ï¼Œä¿ä½åŸºæœ¬åˆ†æ•¸","åŠ å¼·è‹±æ–‡ 1200 åŸºæœ¬å–®å­—ï¼Œæå‡åŸºæœ¬é¡Œç­”å°ç‡","æ•¸å­¸ç·´ç¿’åŸºç¤é‹ç®—ï¼Œç¢ºä¿éé¸é¡Œèƒ½æ‹¿åˆ†","ç¤¾æœƒç§‘å¤šçœ‹åœ°åœ–èˆ‡æ­·å²å¹´è¡¨ï¼Œå¼·åŒ–åœ°ç†ä½ç½®æ„Ÿ"] },
        { id: 8, name: "é™³å®¥äºˆ", rank: "æˆ°å£«ç™½éŠ€ II", score: 15, cRank: 29, sRank: 499, dRank: 7712, grades: {ch:"C", en:"C", ma:"C", sc:"C", so:"C"}, s: ["å…¨ç§‘ç›®æ¨™ï¼šå°‡æ‰€æœ‰ C ç´šè½‰åŒ–ç‚º B ç´šåŸºç¤","åœ‹æ–‡å¾çŸ­ç¯‡ç™½è©±æ•…äº‹é–‹å§‹é–±è®€ï¼ŒåŸ¹é¤Šå°ˆæ³¨åŠ›","è‹±æ–‡ç†Ÿæ‚‰ 26 å­—æ¯èˆ‡åŸºç¤å­—å½™ï¼Œä¸å¯è¼•è¨€æ”¾æ£„","æ•¸å­¸ç·´ç¿’å°å…­è‡³åœ‹ä¸€åŸºç¤é‹ç®—ï¼Œæ‰“æ‰é‡ç·´","æ¯å¤©è¨­å®š 30 åˆ†é˜ç„¡æ‰‹æ©Ÿé–±è®€æ™‚é–“ï¼ŒåŸ¹é¤Šè€æ€§"] },
        { id: 9, name: "é™³ç¥å‘ˆ", rank: "æ˜Ÿè€€ç­‰ç´š III", score: 34, cRank: 7, sRank: 94, dRank: 757, grades: {ch:"A+", en:"A++", ma:"A", sc:"B++", so:"A"}, s: ["ä¿æŒè‹±æ–‡ A++ æ¥µå¼·å„ªå‹¢ï¼Œå®ƒæ˜¯ä½ çš„æœ€å¼·ç‹ç‰Œ","æ•¸è‡ªå…©ç§‘è¡åˆº A+ é–€æª»ï¼Œå¤šç·´ç¿’é€²éšé¡Œå‹","åœ‹æ–‡ç¶­æŒ A+ ç©©å®šåº¦ï¼Œæ³¨æ„æ–‡è¨€æ–‡é™·é˜±é¡Œ","ç¤¾æœƒç§‘åŠ å¼·å²åœ°æ•´åˆï¼Œç›®æ¨™è¡å‘ A+ æ»¿ç©åˆ†","é–å®šé ‚å°–å¿—é¡˜ï¼Œæ¸›å°‘è€ƒè©¦æ™‚çš„ç²—å¿ƒå¤±èª¤"] },
        { id: 10, name: "é™³ç¿å®", rank: "å‹‡è€…é»ƒé‡‘ II", score: 23, cRank: 21, sRank: 354, dRank: 3800, grades: {ch:"B", en:"B", ma:"B+", sc:"B", so:"B+"}, s: ["æ•¸å­¸ B+ è¡¨ç¾å„ªæ–¼å¹³å‡ï¼Œå»ºè­°æŒ‘æˆ° A ç´šé¡Œåº«","ç¤¾æœƒç§‘ B+ å…·å‚™è¡ A æ½›åŠ›ï¼Œå¤šçœ‹åœ°åœ–åˆ¤è®€é¡Œ","åœ‹æ–‡åŠ å¼·æˆèªèˆ‡å­—éŸ³å­—å½¢ï¼Œè£œé½ŠåŸºç¤åˆ†æ•¸","è‹±æ–‡å›ºå®šæ¯æ—¥è½åŠ› 15 åˆ†é˜ï¼ŒåŸ¹é¤Šè‹±æ–‡è€³","å¯«ä½œç·´ç¿’å±¤æ¬¡åˆ†æ˜ï¼Œå˜—è©¦ä½¿ç”¨æ›´å¤šæ„Ÿå®˜æå¯«"] },
        { id: 11, name: "é»ƒç…’å‡±", rank: "å‹‡è€…é»ƒé‡‘ I", score: 25, cRank: 14, sRank: 297, dRank: 2988, grades: {ch:"B++", en:"B", ma:"B+", sc:"B+", so:"B+"}, s: ["åœ‹æ–‡ B++ é›¢ A åƒ…ä¸€æ­¥ä¹‹é™ï¼ŒåŠ å¼·é–±è®€æ¸¬é©—ç²¾æº–åº¦","è‹±æ–‡ B ç´šéœ€çªç ´ï¼ŒåŠ å¼·å…‹æ¼å­—èˆ‡é•·ç¯‡é–±è®€","æ•¸å­¸åŠ å¼·å¹¾ä½•èˆ‡åœ–å½¢æ¨ç†ï¼Œæ¸›å°‘é‹ç®—éŒ¯èª¤","ç¤¾æœƒç§‘èˆ‡è‡ªç„¶ç§‘æ‹šé€² B++ï¼Œç¶­æŒäº”ç§‘å‡å„ª","å¯«ä½œç·´ç¿’é¡Œç›®é‡é»æŠ“å–ï¼Œé¿å…æ–‡ä¸å°é¡Œ"] },
        { id: 12, name: "é»ƒå³»ç¶­", rank: "æ˜Ÿè€€ç­‰ç´š II", score: 36, cRank: 6, sRank: 67, dRank: 468, grades: {ch:"A++", en:"B+", ma:"A", sc:"A", so:"A++"}, s: ["ç¶­æŒåœ‹ç¤¾å…©ç§‘ A++ å·”å³°ï¼Œä¿æŒå°è€ƒé¡Œçš„æ•éŠ³åº¦","è‹±æ–‡ B+ ç‚ºç¸½åˆ†çŸ­æ¿ï¼Œéœ€åŠ å¼·å–®å­—èˆ‡é–±è®€æ‹¼å› A","æ•¸è‡ªå…©ç§‘ç©©å®š A ç´šï¼Œå˜—è©¦æŒ‘æˆ°æ›´é«˜é›£åº¦é¡Œå‹","å¯«ä½œç·´ç¿’ä¿®è¾­æ³•ï¼Œç›®æ¨™å‘ 6 ç´šåˆ†ç™¼èµ·è¡åˆº","æ³¨æ„è€ƒè©¦å¿ƒç†å£“åŠ›ï¼Œä¿æŒä½œæ¯ç©©å®šèˆ‡å°ˆæ³¨"] },
        { id: 13, name: "æ¥Šçš“å®‡", rank: "å‹‡è€…é»ƒé‡‘ II", score: 23, cRank: 22, sRank: 358, dRank: 3865, grades: {ch:"B", en:"B", ma:"B+", sc:"B+", so:"B++"}, s: ["ç™¼æ®ç¤¾æœƒ B++ çš„ç›¸å°å„ªå‹¢ï¼Œå¤šåšé›£é¡Œè¡åˆº A","åœ‹è‹±å…©ç§‘ç©©å®š B ç´šï¼ŒåŠ å¼·åŸºç¤è§€å¿µé‡æ¸…","æ•¸è‡ªå…©ç§‘è¡åˆº B++ ç›®æ¨™ï¼Œæ¸›å°‘éå—è¿«æ€§å¤±èª¤","è‹±æ–‡åŠ å¼·æ–‡æ³•çµæ§‹ï¼Œç·´ç¿’å®Œæ•´å¥å‹çš„ç†è§£","å¯«ä½œ 1 åˆ†éœ€æ³¨æ„ï¼Œè«‹å‹™å¿…æŒ‰ç…§æ ¼å¼å®Œæˆæ–‡ç« "] },
        { id: 14, name: "åŠ‰ä¸æ©", rank: "æˆ°å£«ç™½éŠ€ I", score: 18, cRank: 28, sRank: 463, dRank: 6492, grades: {ch:"B", en:"C", ma:"B", sc:"C", so:"B"}, s: ["è‹±æ–‡ã€è‡ªç„¶å…©ç§‘å„ªå…ˆè„«é›¢ C ç´šå€ï¼Œè£œå¼·åŸºç¤å®šç¾©","åœ‹ã€æ•¸ç¶­æŒ B ç´šä¸é€€æ­¥ï¼Œä¿ä½åŸºæœ¬ç­‰ç´šåˆ†","ç¤¾æœƒç§‘åŠ å¼·å²åœ°æ•´åˆé‚è¼¯ï¼Œå°‹æ±‚ B+ æ©Ÿæœƒ","è‹±æ–‡å–®å­—æ¯å¤©èƒŒ 10 å€‹ï¼Œç©å°‘æˆå¤šç´¯ç©èªæ„Ÿ","å¯«ä½œ 1 åˆ†ä»£è¡¨æ¶æ§‹ä¸å…¨ï¼Œéœ€å­¸ç¿’èµ·æ‰¿è½‰åˆåŸºç¤"] },
        { id: 15, name: "åŠ‰å®¥æ‰¿", rank: "æ°¸æ†é‘½çŸ³ I", score: 31, cRank: 11, sRank: 148, dRank: 1325, grades: {ch:"B++", en:"B+", ma:"A", sc:"B++", so:"B++"}, s: ["æ•¸å­¸ç¶­æŒ A ç´šå¯¦åŠ›ï¼Œå¤šç·´ç¿’éé¸é¡Œä¿æŒé ˜å…ˆ","åœ‹ã€è‡ªã€ç¤¾ä¸‰ç§‘çš† B++ï¼Œå…¨åŠ›è¡åˆº A ç´šç©åˆ†","è‹±æ–‡åŠ å¼·æ¯æ—¥è½åŠ›ç·´ç¿’ï¼Œå°‡ç­‰ç´šæ‹‰å› A ç´š","æ•´é«”æˆ°åŠ›å¹³å‡ï¼Œç›®æ¨™æ˜¯è®“æ¯ä¸€ç§‘éƒ½é€²å…¥ A å€","å¯«ä½œç›®æ¨™ç©©å®š 4 ç´šåˆ†ï¼Œå¢åŠ æ–‡ç« çš„æ•˜è¿°åšåº¦"] },
        { id: 16, name: "åŠ‰ç…¥é¨°", rank: "ç’€ç’¨å‚³èªª I", score: 39, cRank: 2, sRank: 40, dRank: 232, grades: {ch:"A++", en:"B+", ma:"A", sc:"A+", so:"A++"}, s: ["ç¶­æŒåœ‹ã€è‡ªã€ç¤¾ä¸‰ç§‘é ‚å°– A++ï¼Œä¿æŒç„¡æ•µç‹€æ…‹","è‹±æ–‡ B+ ç‚ºå”¯ä¸€ç¼ºå£ï¼Œéœ€å°ˆæ”»é–±è®€ç†è§£è£œå¼·è‡³ A","æ•¸å­¸è¡åˆº A+ ç”šè‡³ A++ï¼Œæ¸›å°‘é€²éšé¡Œå¤±åˆ†","å¯«ä½œç·´ç¿’å€‹äººæ„Ÿæ‚Ÿèˆ‡é«”æ‚Ÿï¼Œç›®æ¨™æŒ‘æˆ° 6 ç´šåˆ†","ç›®æ¨™é–å®šå½°ä¸­ç¬¬ä¸€å¿—é¡˜ï¼Œç©©å®šç™¼æ®å¿…èƒ½é”æˆ"] },
        { id: 17, name: "æ´ªæ¹˜èŠ¸", rank: "å®ˆè­·ç™½é‡‘ II", score: 27, cRank: 13, sRank: 234, dRank: 2191, grades: {ch:"B++", en:"B+", ma:"C", sc:"B+", so:"A+"}, s: ["ç©©å›ºç¤¾æœƒ A+ é ‚å°–å„ªå‹¢ï¼Œç¶­æŒé«˜æ°´æº–ç™¼æ®","æ•¸å­¸ C ç´šéœ€å„˜é€Ÿè£œå›åŸºç¤é‹ç®—èˆ‡ä»£æ•¸åŸºç¤","åœ‹æ–‡ B++ é›¢ A åƒ…å·®è‡¨é–€ä¸€è…³ï¼ŒåŠ å¼·æ–‡è¨€æ–‡","å¯«ä½œ 5 ç´šåˆ†æ˜¯å·¨å¤§å„ªå‹¢ï¼Œå¤šå¯«ä½œä¿æŒæ‰‹æ„Ÿ","å»ºç«‹æ•¸å­¸éŒ¯é¡Œé›†ï¼Œé‡å°åŸºç¤è§€å¿µé€ä¸€é‡æ¸…"] },
        { id: 18, name: "èƒ¡èªå½¤", rank: "å‹‡è€…é»ƒé‡‘ I", score: 25, cRank: 16, sRank: 303, dRank: 3117, grades: {ch:"B", en:"B+", ma:"B++", sc:"B++", so:"B"}, s: ["æ•¸è‡ªå…©ç§‘ç©©å®šåœ¨ B++ï¼Œé‡å°å¼±é»å–®å…ƒç·´ç¿’è¡ A","åœ‹ã€è‹±ã€ç¤¾ä¸‰ç§‘éœ€æ‹šé€² B++ï¼Œé”æˆå…¨é¢å‡è¡¡","åŠ å¼·æ•¸å­¸éé¸é¡Œå‹ç·´ç¿’ï¼Œçˆ­å–é¡å¤–åŠ åˆ†","ç¤¾æœƒç§‘å¼·åŒ–å…¬æ°‘èˆ‡æ³•å¾‹æ¦‚å¿µï¼Œæ¸›å°‘ç”Ÿæ´»é¡Œå‡ºéŒ¯","å¤šåšæ­·å±†è©¦é¡Œï¼Œç†Ÿæ‚‰åœ‹ä¸‰ä¸‹å­¸æœŸçš„è€ƒè©¦ç¯€å¥"] },
        { id: 19, name: "å¼µæ™ç¿", rank: "å‹‡è€…é»ƒé‡‘ I", score: 24, cRank: 17, sRank: 329, dRank: 3352, grades: {ch:"B+", en:"B", ma:"A", sc:"B+", so:"B"}, s: ["ç™¼æ®æ•¸å­¸ A ç´šå„ªå‹¢ï¼Œç¢ºä¿åŸºç¤é¡Œèˆ‡ä¸­æª”é¡Œå…¨æ‹¿","åœ‹ã€è‡ªå…©ç§‘è¡åˆº B++ï¼Œç›®æ¨™æ˜¯è·¨å…¥ A ç´šé–€æª»","è‹±æ–‡ B ç´šéœ€åŠ å¼·åŸºç¤é–±è®€ï¼Œè£œå¼·æ–‡æ³•ç¼ºå£","æ•´ç†è‡ªç„¶ç§‘éŒ¯é¡Œæœ¬ï¼Œç‰¹åˆ¥æ˜¯ç†åŒ–è¨ˆç®—éƒ¨åˆ†","å¯«ä½œç·´ç¿’è±å¯Œæ–‡ç« å…§å®¹ï¼Œç›®æ¨™ç©©å®šåœ¨ 4 ç´šåˆ†"] },
        { id: 20, name: "å¼µå‡±è–°", rank: "å‹‡è€…é»ƒé‡‘ II", score: 23, cRank: 23, sRank: 365, dRank: 3981, grades: {ch:"B+", en:"B+", ma:"A", sc:"C", so:"B"}, s: ["è‡ªç„¶ C ç´šéœ€å¾èª²æœ¬åŸºç¤æ¦‚å¿µé‡æ–°è®€èµ·ï¼Œè„« C ç‚ºå…ˆ","æ•¸å­¸ A ç´šéœ€æŒçºŒç¶­æŒï¼Œé¿å…å› é›£é¡Œè€Œå—æŒ«","åœ‹ã€è‹±å…©ç§‘ç©©å®šåœ¨ B+ï¼Œç›®æ¨™æ˜¯æ‹šé€² B++","ç¤¾æœƒç§‘åŠ å¼·åœ–è¡¨è§£è®€ï¼Œè£œå¼·åœ°ç†èˆ‡æ­·å²æ™‚åº","èª¿æ•´è®€æ›¸æ¯”ä¾‹ï¼Œå°‡ 40% çš„æ™‚é–“åˆ†é…çµ¦è‡ªç„¶ç§‘"] },
        { id: 21, name: "è¨±æ™¶è", rank: "å‹‡è€…é»ƒé‡‘ I", score: 24, cRank: 18, sRank: 333, dRank: 3372, grades: {ch:"B+", en:"C", ma:"B+", sc:"B++", so:"B+"}, s: ["è‡ªç„¶å·²é” B++ï¼Œé‡å°å¼±é»ç« ç¯€è¡åˆº A ç´šç©åˆ†","è‹±æ–‡ C ç´šéœ€æ‹‰å› Bï¼Œå…ˆèƒŒç†ŸåŸºæœ¬ 1200 å–®å­—","åœ‹ã€æ•¸å…©ç§‘ç¶­æŒ B+ æ°´æº–ï¼Œæ¸›å°‘ç²—å¿ƒå¤±åˆ†","åŠ å¼·è‹±æ–‡å–®å­—é‡èˆ‡è©æ€§è®ŠåŒ–ï¼Œç·´ç¿’åŸºæœ¬å¥å‹","åœ‹æ–‡å¤šåšæ–‡è¨€æ–‡èªæ„Ÿç·´ç¿’ï¼ŒæŒ‘æˆ° B++"] },
        { id: 22, name: "é»ƒç­±è", rank: "ç’€ç’¨å‚³èªª II", score: 37, cRank: 3, sRank: 54, dRank: 357, grades: {ch:"A+", en:"B+", ma:"B++", sc:"A+", so:"A++"}, s: ["åœ‹ã€è‡ªã€ç¤¾ä¸‰ç§‘ A+ ä»¥ä¸Šè¡¨ç¾æ¥µä½³ï¼Œç¶­æŒå„ªå‹¢","è‹±æ–‡ B+ ç‚ºä¸Šåˆ†æœ€å¤§ç“¶é ¸ï¼Œéœ€å¢åŠ å–®å­—å»£åº¦","æ•¸å­¸è¡åˆº A ç´šé–€æª»ï¼Œå¤šåšéé¸é¡Œèˆ‡é€²éšå¹¾ä½•","å¯«ä½œç¶­æŒ 5 ç´šåˆ†é«˜æ°´æº–ï¼Œç·´ç¿’æ›´å¤šä¿®è¾­æ³•","ç›®æ¨™é–å®šé ‚å°–é«˜ä¸­ï¼Œå…¨é€Ÿè£œå¼·è‹±æ•¸å¼±é …"] },
        { id: 23, name: "é»ƒå¿ƒæ¸", rank: "æ°¸æ†é‘½çŸ³ II", score: 32, cRank: 9, sRank: 133, dRank: 1126, grades: {ch:"B++", en:"B+", ma:"A++", sc:"B++", so:"B+"}, s: ["æ•¸å­¸ A++ ç‚ºé ‚å°–å¯¦åŠ›ï¼Œéœ€æŒçºŒç¶­æŒé«˜é›£åº¦é¡Œæ„Ÿ","åœ‹ã€è‡ªã€ç¤¾ä¸‰ç§‘å‡æœ‰ B++ ä»¥ä¸ŠåŸºç¤ï¼Œå…·è¡ A æ½›åŠ›","è‹±æ–‡è£œå¼·åŸºç¤é–±è®€æ¸¬é©—ï¼Œæ¯å¤©è½ 15 åˆ†é˜è‹±æ–‡","ç¤¾æœƒç§‘ç©©å®šç™¼æ® B+ï¼Œå»ºè­°åŠ å¼·å…¬æ°‘è­°é¡Œç†è§£","å¯«ä½œç›®æ¨™ 5 ç´šåˆ†ï¼Œå˜—è©¦å¢åŠ å€‹äººé«”æ‚Ÿæ•˜äº‹"] },
        { id: 24, name: "ç«¥è‹¥ç‘„", rank: "ç’€ç’¨å‚³èªª II", score: 37, cRank: 5, sRank: 59, dRank: 393, grades: {ch:"A+", en:"A", ma:"A", sc:"A+", so:"A++"}, s: ["äº”ç§‘å…¨ A ä»¥ä¸Šä¸”æ¥µç‚ºå¹³å‡ï¼Œè¡¨ç¾éå¸¸å„ªè¶Š","è‡ªç„¶èˆ‡åœ‹æ–‡æŒ‘æˆ° A++ï¼Œé‡å°é›£é¡Œæ·±å…¥ç ”è®€","ç¤¾æœƒç§‘ç¶­æŒ A++ å„ªå‹¢ï¼Œæˆç‚ºç©©å®šçš„ç©åˆ†ä¾†æº","å¯«ä½œç©©å®š 4 ç´šåˆ†ï¼Œç›®æ¨™æ˜¯ç·´ç¿’æ›´æ·±åˆ»çš„çµå°¾","æ³¨æ„è€ƒè©¦æ™‚é–“åˆ†é…ï¼Œé¿å…åœ¨å–®ä¸€é›£é¡Œå¡é—œ"] },
        { id: 25, name: "é»ƒå¯€è¡", rank: "æˆ°å£«ç™½éŠ€ II", score: 15, cRank: 29, sRank: 499, dRank: 7712, grades: {ch:"C", en:"C", ma:"C", sc:"C", so:"C"}, s: ["é¦–è¦ç›®æ¨™ï¼šè„«é›¢å…¨ C çª˜å¢ƒï¼Œå…ˆè®“ 2 ç§‘è®Šç‚º B","å¾åŸºç¤åœ‹æ–‡èª²æ–‡æŠ“èµ·ï¼Œç†Ÿæ‚‰èª²æ–‡é‡é»èˆ‡ç”Ÿå­—","è‹±æ–‡èƒŒèª¦æœ€å¸¸ç”¨çš„åŸºç¤å–®å­—ï¼Œçˆ­å–åŸºæœ¬åˆ†","æ•¸å­¸ç·´ç¿’åŠ æ¸›ä¹˜é™¤èˆ‡åˆ†æ•¸é‹ç®—ï¼Œä¸æ”¾æ£„åŸºç¤é¡Œ","å»ºç«‹æ¯å¤©å®šæ™‚è®€æ›¸ 30 åˆ†é˜çš„ç¿’æ…£ï¼ŒåŸ¹é¤Šå®šåŠ›"] },
        { id: 26, name: "è©¹æ²›ç’‡", rank: "å‹‡è€…é»ƒé‡‘ II", score: 23, cRank: 19, sRank: 339, dRank: 3502, grades: {ch:"B", en:"B+", ma:"B+", sc:"B", so:"B"}, s: ["ç™¼æ®å¯«ä½œ 5 ç´šåˆ†çš„é«˜åˆ†å„ªå‹¢ï¼Œä¿æŒæ„Ÿæ€§ç­†è§¸","è‹±æ–‡èˆ‡æ•¸å­¸ B+ å…·å‚™é€²æ­¥ç©ºé–“ï¼Œè¡åˆº B++","åœ‹ã€è‡ªã€ç¤¾å›æ­¸èª²æœ¬é‡é»ï¼Œè£œå¼·åŸºç¤è§€å¿µ","è‹±æ–‡åŠ å¼·è½åŠ›æŒæ¡åº¦ï¼Œé€™æ˜¯æœ€å¿«ä¸Šåˆ†çš„æ–¹æ³•","é‡å°æ¨¡æ“¬è€ƒéŒ¯é¡Œé€²è¡Œåˆ†é¡ï¼Œæ‰¾å‡ºåè¦†å‡ºéŒ¯é»"] },
        { id: 27, name: "å»–å©•æ¸", rank: "å‹‡è€…é»ƒé‡‘ III", score: 20, cRank: 24, sRank: 412, dRank: 4886, grades: {ch:"B", en:"B", ma:"B", sc:"B", so:"B"}, s: ["äº”ç§‘è¡¨ç¾æ¥µç‚ºå‡è¡¡ï¼Œå…¨éƒ¨ç¶­æŒåœ¨ B ç´šä¸é€€æ­¥","å»ºç«‹å„ç§‘éŒ¯é¡Œè¨˜éŒ„ç³»çµ±ï¼Œåˆ†æå¸¸éŒ¯çš„å–®å…ƒ","åœ‹æ–‡å˜—è©¦å¢åŠ ç™½è©±æ–‡é–±è®€é‡ï¼Œæå‡èªæ„Ÿ","å˜—è©¦æå‡ä¸€é–€å¼·é …è‡³ B+ï¼Œå…ˆå¾ç¤¾æœƒç§‘é–‹å§‹","æ¯æ—¥è¦å¾‹ä½œæ¯ï¼Œç¢ºä¿ç•™åœ¨èª²å ‚ä¸Šçš„å°ˆæ³¨åŠ›"] },
        { id: 28, name: "åŠ‰èŠ®ç‘œ", rank: "ç’€ç’¨å‚³èªª II", score: 37, cRank: 4, sRank: 55, dRank: 363, grades: {ch:"A++", en:"B", ma:"A+", sc:"A", so:"A"}, s: ["åœ‹æ–‡ A++ ç‚ºæœ€å¼·é …ï¼Œè«‹ç¹¼çºŒä¿æŒé–±è®€æ‰‹æ„Ÿ","æ•¸å­¸ A+ æŒ‘æˆ°è¡åˆº A++ï¼Œé‡å°å¹¾ä½•é›£é¡Œç ´é¡Œ","è‹±æ–‡ B ç´šç‚ºå”¯ä¸€éš±æ†‚ï¼Œéœ€å°ˆæ”»é–±è®€ç†è§£è‡³ A","è‡ªç¤¾å…©ç§‘ç©©å®š A ç´šï¼Œç›®æ¨™æ˜¯å…¨ç§‘çš† A ä»¥ä¸Š","å¯«ä½œç·´ç¿’æ–‡ç« æ¶æ§‹ï¼Œç›®æ¨™ç©©å®š 5 ç´šåˆ†å„ªå‹¢"] },
        { id: 29, name: "æ½˜æ›‰éš", rank: "æ°¸æ†é‘½çŸ³ II", score: 33, cRank: 8, sRank: 109, dRank: 908, grades: {ch:"A+", en:"A", ma:"B++", sc:"A", so:"B++"}, s: ["åœ‹ã€è‹±ã€è‡ªä¸‰ç§‘ A ç´šå„ªå‹¢ç©©å®šï¼Œç¶­æŒè®€æ›¸ç¯€å¥","æ•¸ã€ç¤¾å…©ç§‘ B++ è¡åˆº A ç´šï¼Œé‡å°å¼±é …è£œå¼·","åŠ å¼·ç†åŒ–è¨ˆç®—é¡Œå‹ç·´ç¿’ï¼Œç¢ºä¿ A ç´šç©åˆ†","ç¤¾æœƒç§‘éå›ºæ³•å¾‹èˆ‡æ”¿æ²»ç¯‡ç« ï¼Œé€™æ˜¯è¡ A é—œéµ","å¯«ä½œå¢åŠ ä¿®è¾­æ³•é‹ç”¨ï¼Œè±å¯Œæ–‡ç« è¦–è¦ºç¾æ„Ÿ"] },
        { id: 30, name: "è¬æ²›ç’‡", rank: "æˆ°å ´å‚³èªª I", score: 41, cRank: 1, sRank: 29, dRank: 99, grades: {ch:"A++", en:"A+", ma:"A", sc:"A++", so:"A++"}, s: ["ç¶­æŒåœ‹ã€è‡ªã€ç¤¾ä¸‰ç§‘ A++ å·”å³°ï¼Œä¿æŒé ˜å…ˆåœ°ä½","è¡åˆºè‹±ã€æ•¸ A++ï¼Œé”æˆå…¨ç§‘ã€Œäº”è·¯ç¥è£ã€æ»¿åˆ†","å¯«ä½œç¶­æŒ 5 ç´šåˆ†å„ªå‹¢ï¼Œå¤šè‡¨æ‘¹ 6 ç´šåˆ†ç¯„æ–‡","æ¸›å°‘é«˜é›£åº¦é¡Œç›®ä¸­çš„éå—è¿«æ€§å¤±èª¤èˆ‡ç²—å¿ƒ","ç›®æ¨™é–å®šé ‚å°–ç¬¬ä¸€å¿—é¡˜ï¼Œä¿æŒå¿ƒæ…‹ç©©å®šèˆ‡è‡ªä¿¡"] }
    ];

    const thresholds = [
        { score: 105, name: "å„ªè³ªè·æ ¡é–€æª»" },
        { score: 110, name: "æºªæ¹–é«˜ä¸­é–€æª»" },
        { score: 118, name: "ç²¾èª /å“¡ä¸­é–€æª»" },
        { score: 121, name: "å½°ä¸­/å½°å¥³é–€æª»" },
        { score: 135, name: "å…¨å€å·”å³°ç‹è€…" }
    ];

    const selectEl = document.getElementById('userSelect');
    studentDB.forEach(s => {
        const opt = document.createElement('option');
        opt.value = s.id; opt.textContent = `${s.id < 10 ? '0'+s.id : s.id} - ${s.name}`;
        selectEl.appendChild(opt);
    });

    function handleLogin() {
        const sid = selectEl.value;
        const inputPass = document.getElementById('userPass').value;
        const savedPass = localStorage.getItem('pwd_' + sid) || "308" + (sid < 10 ? '0'+sid : sid);
        if(sid && inputPass === savedPass) {
            document.getElementById('loginWrapper').style.opacity = "0";
            setTimeout(() => { document.getElementById('loginWrapper').style.display = "none"; showReport(sid); }, 600);
        } else alert("ACCESS DENIED");
    }

    function showReport(id) {
        const s = studentDB.find(item => item.id == id);
        const total = 90 + s.score;
        document.getElementById('reportSection').style.display = "block";
        document.getElementById('displayName').innerText = s.name;
        document.getElementById('displayScore').innerText = total;
        document.getElementById('cRank').innerText = s.cRank;
        document.getElementById('sRank').innerText = s.sRank;
        document.getElementById('dRank').innerText = s.dRank;

        // è¨ˆç®—ä¸‹ä¸€ç´šè·é›¢
        const nextGoal = thresholds.find(t => t.score > total) || thresholds[thresholds.length-1];
        const prevGoalScore = total < 105 ? 90 : (thresholds.slice().reverse().find(t => t.score <= total)?.score || 90);
        
        const remaining = nextGoal.score - total;
        const progress = ((total - prevGoalScore) / (nextGoal.score - prevGoalScore)) * 100;

        document.getElementById('nextLevelName').innerText = `NEXT GOAL: ${nextGoal.name}`;
        document.getElementById('xpRemaining').innerText = remaining > 0 ? `REMAINING: ${remaining} XP` : "MAX LEVEL REACHED";
        document.getElementById('xpFill').style.width = Math.max(10, progress) + "%";

        const orb = document.getElementById('rankOrb');
        orb.innerText = s.score > 35 ? "L" : s.score > 25 ? "G" : "B";
        orb.style.borderColor = s.score > 35 ? "var(--gold)" : "var(--accent)";
        orb.style.color = s.score > 35 ? "var(--gold)" : "var(--accent)";

        const list = document.getElementById('strategyList');
        list.innerHTML = "";
        s.s.forEach(text => {
            const div = document.createElement('div');
            div.style.padding = "15px"; div.style.marginBottom = "10px";
            div.style.background = "rgba(255,255,255,0.03)"; div.style.borderLeft = "4px solid var(--accent)";
            div.innerText = text; list.appendChild(div);
        });

        renderChart(s.grades);
        document.getElementById('predictSchool').innerText = total >= 121 ? "å½°ä¸­/å½°å¥³" : total >= 110 ? "æºªæ¹–é«˜ä¸­" : "å“¡å®¶/åŒ—å®¶";
    }

    function renderChart(g) {
        const map = { "A++": 100, "A+": 92, "A": 85, "B++": 72, "B+": 62, "B": 50, "C": 20 };
        const ctx = document.getElementById('radarChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['åœ‹æ–‡', 'è‹±æ–‡', 'æ•¸å­¸', 'è‡ªç„¶', 'ç¤¾æœƒ'],
                datasets: [{ data: [map[g.ch], map[g.en], map[g.ma], map[g.sc], map[g.so]], backgroundColor: 'rgba(34, 211, 238, 0.2)', borderColor: '#22d3ee', borderWidth: 3 }]
            },
            options: { maintainAspectRatio: false, scales: { r: { suggestedMin: 0, suggestedMax: 100, ticks: { display: false }, grid: { color: 'rgba(255,255,255,0.1)' } } }, plugins: { legend: { display: false } } }
        });
    }

    function openPwdModal() { document.getElementById('overlay').style.display = 'block'; document.getElementById('pwdModal').style.display = 'block'; }
    function closePwdModal() { document.getElementById('overlay').style.display = 'none'; document.getElementById('pwdModal').style.display = 'none'; }
    function submitNewPwd() {
        const sid = selectEl.value;
        const oldP = document.getElementById('oldPwd').value;
        const newP = document.getElementById('newPwd').value;
        const savedPass = localStorage.getItem('pwd_' + sid) || "308" + (sid < 10 ? '0'+sid : sid);
        if (oldP === savedPass && newP.length >= 4) { localStorage.setItem('pwd_' + sid, newP); alert("å¯†ç¢¼ä¿®æ”¹æˆåŠŸï¼"); closePwdModal(); }
        else { alert("èˆŠå¯†ç¢¼éŒ¯èª¤æˆ–æ–°å¯†ç¢¼å¤ªçŸ­ï¼"); }
    }
</script>
</body>
</html>